{% extends "base.html" %}
{% block title %}Registrieren{% endblock %}

{% block content %}
<div class="max-w-md mx-auto mt-10 border rounded-xl p-6 bg-white shadow">
  <h1 class="text-2xl font-semibold mb-4">Registrieren</h1>

  {# --- Fehleranzeige --- #}
  {% if error %}
    <div class="mb-3 text-red-600 text-sm">{{ error }}</div>
  {% endif %}

  <form method="post" action="/auth/register-web" class="space-y-4" novalidate>
    {# Benutzername #}
    <div>
      <label for="username" class="block text-sm mb-1 font-medium">Benutzername</label>
      <input
        id="username"
        name="username"
        type="text"
        required
        minlength="3"
        maxlength="30"
        pattern="^[a-zA-Z0-9_.-]+$"
        autocomplete="username"
        class="w-full border rounded-md p-2 focus:outline-none focus:ring focus:border-blue-400"
      />
      <p class="text-xs text-gray-500 mt-1">
        3â€“30 Zeichen, nur Buchstaben, Zahlen und . _ -
      </p>
    </div>

    {# E-Mail #}
    <div>
      <label for="email" class="block text-sm mb-1 font-medium">E-Mail</label>
      <input
        id="email"
        name="email"
        type="email"
        required
        maxlength="255"
        autocomplete="email"
        class="w-full border rounded-md p-2 focus:outline-none focus:ring focus:border-blue-400"
      />
    </div>

    {# Passwort #}
    <div>
      <label for="password" class="block text-sm mb-1 font-medium">Passwort</label>
      <input
        id="password"
        name="password"
        type="password"
        required
        minlength="8"
        maxlength="64"
        autocomplete="new-password"
        class="w-full border rounded-md p-2 focus:outline-none focus:ring focus:border-blue-400"
      />
      <p class="mt-1 text-xs text-gray-500">
      Mindestens 8 Zeichen, mindestens 1 Zahl und 1 Sonderzeichen (z.B. !?*$).
      </p>

    </div>

    <div class="flex items-center justify-between">
      <button
        type="submit"
        class="rounded-md border px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 transition"
      >
        Konto anlegen
      </button>
      <a
        class="text-blue-600 underline text-sm hover:text-blue-800"
        href="/auth/login-web"
      >
        Zum Login
      </a>
    </div>
  </form>
</div>
{% endblock %}
