/* ---- Design Tokens ---- */
:root {
  --radius: 14px;
  --shadow-sm: 0 1px 2px rgba(0,0,0,.06), 0 8px 24px rgba(0,0,0,.06);
  --shadow-md: 0 2px 6px rgba(0,0,0,.08), 0 16px 36px rgba(0,0,0,.08);
  --ring: 0 0 0 3px;
  --transition-fast: 160ms ease;

  /* Light */
  --bg: #f7f7fb;
  --card: #ffffff;
  --surface: #ffffff;
  --ink: #0b1020;
  --ink-muted: #6b7280;
  --border: #e6e8ef;

  --primary: #0b0f19;
  --primary-ink: #ffffff;

  --accent: #2563eb;
  --accent-ink: #ffffff;

  --success: #16a34a;
  --warn: #f59e0b;
  --danger: #dc2626;

  --hover: rgba(0,0,0,.04);
  --hover-strong: rgba(0,0,0,.08);

  color-scheme: light;
}

[data-theme="dark"] {
  /* Dark */
  --bg: #0b0f14;
  --card: #0f1520;
  --surface: #0f1520;
  --ink: #e8ecf3;
  --ink-muted: #9aa4b2;
  --border: #1f2a37;

  --primary: #e8ecf3;
  --primary-ink: #0b0f14;

  --accent: #60a5fa;
  --accent-ink: #0b0f14;

  --success: #22c55e;
  --warn: #fbbf24;
  --danger: #f87171;

  --hover: rgba(255,255,255,.06);
  --hover-strong: rgba(255,255,255,.10);

  color-scheme: dark;
}

/* ---- Base ---- */
* { box-sizing: border-box; }
html, body { height: 100%; }
html, body {
  background: var(--bg);
  color: var(--ink);
  transition: background-color var(--transition-fast), color var(--transition-fast);
  font: 14px/1.6 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Containers */
.container { max-width: 1100px; margin: 0 auto; padding: 24px; }

/* Links */
a { color: var(--accent); text-decoration: none; transition: color var(--transition-fast), background var(--transition-fast); }
a:hover { color: color-mix(in oklab, var(--accent) 85%, white 15%); }
a.link { color: var(--accent); text-decoration: underline; }
a.muted { color: var(--ink-muted); }

/* Alerts */
.alert { border:1px solid var(--border); border-radius:12px; padding:12px 14px; }
.alert.error { background: color-mix(in oklab, var(--danger) 10%, transparent); color: var(--ink); border-color: color-mix(in oklab, var(--danger) 30%, var(--border)); }

/* Cards */
.card { background: var(--card); border:1px solid var(--border); border-radius: var(--radius); box-shadow: var(--shadow-sm); }
.card-hdr { padding: 18px 20px; border-bottom:1px solid var(--border); font-weight:600; }
.card-body { padding: 20px; }

/* Grid helpers (legacy) */
.grid { display:grid; gap:16px; }
.grid-2 { grid-template-columns: 1fr 1fr; }
.grid-3 { grid-template-columns: repeat(3,1fr); }
.row { display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
.right { margin-left:auto; }
.muted { color: var(--ink-muted); }

/* Tables */
table { width:100%; border-collapse: collapse; }
thead th {
  font-size:12px; text-transform:uppercase; color: var(--ink-muted);
  letter-spacing:.08em; padding:12px; border-bottom:1px solid var(--border); text-align:left;
  background: color-mix(in oklab, var(--card) 96%, transparent);
}
tbody td { padding:14px 12px; border-bottom:1px solid var(--border); }
tbody tr:hover { background: var(--hover); }

/* Badges */
.badge {
  display:inline-flex; align-items:center; height:24px; padding:0 8px;
  border-radius:10px; background: color-mix(in oklab, var(--accent) 10%, var(--card));
  color: color-mix(in oklab, var(--accent) 80%, var(--ink)); font-weight:600; font-size:12px;
}
.badge.red   { background: color-mix(in oklab, var(--danger) 12%, var(--card)); color: color-mix(in oklab, var(--danger) 85%, var(--ink)); }
.badge.green { background: color-mix(in oklab, var(--success) 12%, var(--card)); color: color-mix(in oklab, var(--success) 85%, var(--ink)); }
.badge.gray  { background: color-mix(in oklab, var(--ink) 8%, var(--card)); color: var(--ink); }

/* Inputs */
.input, input[type="text"], input[type="file"], input[type="search"], select, textarea {
  width:100%; padding:12px 14px; border:1px solid var(--border); border-radius:12px; background: var(--surface);
  color: var(--ink); outline:none; transition: border-color var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast), color var(--transition-fast);
}
.input::placeholder, input::placeholder, textarea::placeholder { color: var(--ink-muted); }
.input:focus, input:focus, select:focus, textarea:focus { border-color: var(--accent); box-shadow: var(--ring) color-mix(in oklab, var(--accent) 35%, transparent); }

/* Buttons */
.btn, button {
  display:inline-flex; align-items:center; gap:8px; padding:10px 16px; border-radius:12px;
  border:1px solid var(--border); background: var(--surface); color: var(--ink);
  cursor:pointer; transition: transform var(--transition-fast), background var(--transition-fast), color var(--transition-fast), border-color var(--transition-fast), box-shadow var(--transition-fast);
  text-decoration:none;
}
.btn:hover, button:hover { background: var(--hover); }
.btn:active, button:active { transform: translateY(1px); }
.btn.primary { background: var(--primary); color: var(--primary-ink); border-color: var(--primary); }
.btn.primary:hover { filter: brightness(0.95); }
.btn.ghost { background: transparent; }

/* Dropzone / Empty */
.empty {
  display:flex; flex-direction:column; align-items:center; justify-content:center; gap:8px;
  color: var(--ink-muted); border:2px dashed var(--border); border-radius:16px; min-height:220px; background: transparent;
}
.drop {
  border:2px dashed var(--border); border-radius:16px; padding:24px; display:flex; flex-direction:column; align-items:center; gap:14px;
  background: var(--surface);
}

/* Header (Navbar) */
.nav {
  position: sticky; top:0; z-index:50;
  background: color-mix(in oklab, var(--card) 92%, transparent);
  backdrop-filter: saturate(160%) blur(10px);
  border-bottom: 1px solid var(--border);
}
.navwrap { max-width: 1100px; margin:0 auto; padding:0 16px; height:56px; display:flex; align-items:center; gap:12px; }
.brand { font-weight:700; letter-spacing:.2px; color: var(--ink); }
.spacer { flex:1; }
.navlinks { display:flex; align-items:center; gap:8px; }
.navlink {
  padding:8px 12px; border-radius:12px; color: var(--ink);
  transition: background var(--transition-fast), color var(--transition-fast);
}
.navlink:hover { background: var(--hover); }
.navlink.active { background: var(--primary); color: var(--primary-ink); }

/* Toggle icon */
#theme-toggle { font-size:14px; }

/* Code bits */
code, .text-xs, .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }

/* ----------------------------------------------------------- */
/* Tailwind-Compat: mappe harte Farbutilities auf Variablen    */
/* -> So werden auch alte Templates dunkel/hell                 */
/* ----------------------------------------------------------- */
.tw-compat .bg-white        { background-color: var(--card) !important; }
.tw-compat .bg-white\/80    { background-color: color-mix(in oklab, var(--card) 80%, transparent) !important; }
.tw-compat .text-gray-900   { color: var(--ink) !important; }
.tw-compat .text-gray-700   { color: var(--ink) !important; }
.tw-compat .text-gray-600   { color: var(--ink-muted) !important; }
.tw-compat .text-gray-500   { color: var(--ink-muted) !important; }
.tw-compat .border          { border-color: var(--border) !important; }
.tw-compat .border-b        { border-bottom-color: var(--border) !important; }
.tw-compat .border-t        { border-top-color: var(--border) !important; }
.tw-compat .hover\:bg-gray-50:hover  { background-color: var(--hover) !important; }
.tw-compat .hover\:bg-gray-100:hover { background-color: var(--hover) !important; }
.tw-compat .dark\:hover\:bg-gray-800:hover { background-color: var(--hover-strong) !important; }
